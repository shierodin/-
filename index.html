<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë°©ì¹˜í˜• ëˆë²Œê¸° ê²Œì„</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding: 20px; }
        .container { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 400px; }
        .status { font-size: 1.2em; font-weight: bold; margin-bottom: 20px; color: #1a73e8; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .log { height: 150px; overflow-y: auto; background: #eee; padding: 10px; font-size: 0.9em; margin-bottom: 15px; border-radius: 5px; }
        .menu-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button { padding: 10px; cursor: pointer; border: none; border-radius: 5px; background: #4caf50; color: white; transition: 0.3s; }
        button:hover { background: #45a049; }
        button:disabled { background: #ccc; }
        .shop-item { margin-top: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
    </style>
</head>
<body>

<div class="container">
    <div class="status">
        ğŸ’° ì”ì•¡: <span id="money">1000</span>ì› <br>
        <small id="goal">ëª©í‘œ: 10,000,000ì›</small>
    </div>
    
    <div class="log" id="gameLog">ê²Œì„ì„ ì‹œì‘í•©ë‹ˆë‹¤!</div>

    <div class="menu-group">
        <button onclick="work()">ğŸ–±ï¸ ëˆë²Œê¸° (+<span id="clickPower">500</span>)</button>
        <button onclick="showSection('hire')">ğŸ‘¥ ê³ ìš©í•˜ê¸°</button>
        <button onclick="upgrade()">ğŸ†™ ì—…ê·¸ë ˆì´ë“œ (<span id="upCost">500</span>ì›)</button>
        <button onclick="showSection('gamble')">ğŸ² ë„ë°•/ì£¼ì‹</button>
    </div>

    <div id="hire" style="display:none; margin-top:20px;">
        <h3>ì§ì› ê³ ìš©</h3>
        <div class="shop-item">
            ì¼ë°˜ ì•Œë°” (5ì´ˆë‹¹ 500ì›) - 6,000ì› 
            <button id="btnT1" onclick="buyWorker(1)">êµ¬ë§¤</button>
        </div>
        <div class="shop-item">
            ê³ ê¸‰ ì•Œë°” (3ì´ˆë‹¹ 6,500ì›) - 20,000ì› 
            <button id="btnT2" onclick="buyWorker(2)">êµ¬ë§¤</button>
        </div>
        <div class="shop-item">
            ì •ì‹ ì§ì› (2ì´ˆë‹¹ 9,000ì›) - 100,000ì› 
            <button id="btnT3" onclick="buyWorker(3)">êµ¬ë§¤</button>
        </div>
    </div>

    <div id="gamble" style="display:none; margin-top:20px;">
        <h3>ë„ë°• ë° ì£¼ì‹</h3>
        <button onclick="gamble()">ğŸ² í™€ì§ ë„ë°• (ë°°ìˆ˜)</button>
        <hr>
        <div id="stockArea">
            í˜„ì¬ ì£¼ê°€: <span id="stockPrice">2000</span>ì› <br>
            ë³´ìœ  ì£¼ì‹: <span id="stockCount">0</span>ì£¼ <br>
            <button onclick="buyStock()">ì£¼ì‹ ì‚¬ê¸°</button>
            <button onclick="sellStock()">ì£¼ì‹ íŒ”ê¸°</button>
        </div>
    </div>
</div>

<script>
    let mm = 1000;      // ì”ì•¡
    let se = 1.0;       // íš¨ìœ¨
    let dd = 1;         // ì—…ê·¸ë ˆì´ë“œ ë ˆë²¨
    let xc = 0;         // ì£¼ì‹ ë³´ìœ ëŸ‰
    let cc = 2000;      // ì£¼ì‹ ê°€ê²©
    let owned = [false, false, false];

    const logEl = document.getElementById('gameLog');

    function updateUI() {
        document.getElementById('money').innerText = Math.floor(mm).toLocaleString();
        document.getElementById('clickPower').innerText = Math.floor(se * 500).toLocaleString();
        document.getElementById('upCost').innerText = (dd * 500).toLocaleString();
        document.getElementById('stockPrice').innerText = cc.toLocaleString();
        document.getElementById('stockCount').innerText = xc;
        
        if (mm >= 10000000) {
            alert("ì¶•í•˜í•©ë‹ˆë‹¤! 10,000,000ì›ì„ ëª¨ì•„ ê²Œì„ì„ í´ë¦¬ì–´í–ˆìŠµë‹ˆë‹¤!");
            location.reload();
        }
    }

    function addLog(msg) {
        const p = document.createElement('p');
        p.innerText = msg;
        logEl.prepend(p);
    }

    function showSection(id) {
        const el = document.getElementById(id);
        el.style.display = el.style.display === 'none' ? 'block' : 'none';
    }

    // ëˆë²Œê¸° (í´ë¦­)
    function work() {
        let gain = se * 500;
        mm += gain;
        addLog(`í´ë¦­ìœ¼ë¡œ ${gain.toFixed(0)}ì›ì„ ë²Œì—ˆìŠµë‹ˆë‹¤.`);
        updateUI();
    }

    // ì—…ê·¸ë ˆì´ë“œ
    function upgrade() {
        let cost = dd * 500;
        if (mm >= cost) {
            mm -= cost;
            se += 0.02;
            dd += 1;
            addLog("ì—…ê·¸ë ˆì´ë“œ ì™„ë£Œ! íš¨ìœ¨ì´ 2% ìƒìŠ¹í–ˆìŠµë‹ˆë‹¤.");
            updateUI();
        } else {
            alert("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤!");
        }
    }

    // ê³ ìš© (ì“°ë ˆë“œ ëŒ€ì‹  setInterval ì‚¬ìš©)
    function buyWorker(num) {
        let costs = [6000, 20000, 100000];
        let idx = num - 1;

        if (owned[idx]) {
            alert("ì´ë¯¸ ê³ ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.");
            return;
        }

        if (mm >= costs[idx]) {
            mm -= costs[idx];
            owned[idx] = true;
            document.getElementById(`btnT${num}`).disabled = true;
            
            if (num === 1) {
                setInterval(() => { mm += se * 500; updateUI(); }, 5000);
                addLog("ì¼ë°˜ ì•Œë°”ìƒì„ ê³ ìš©í–ˆìŠµë‹ˆë‹¤ (5ì´ˆ ì£¼ê¸°)");
            } else if (num === 2) {
                setInterval(() => { mm += se * 6500; updateUI(); }, 3000);
                addLog("ê³ ê¸‰ ì•Œë°”ìƒì„ ê³ ìš©í–ˆìŠµë‹ˆë‹¤ (3ì´ˆ ì£¼ê¸°)");
            } else if (num === 3) {
                setInterval(() => { mm += se * 9000; updateUI(); }, 2000);
                addLog("ì§ì›ì„ ê³ ìš©í–ˆìŠµë‹ˆë‹¤ (2ì´ˆ ì£¼ê¸°)");
            }
            updateUI();
        } else {
            alert("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤!");
        }
    }

    // ë„ë°•
    function gamble() {
        let amount = parseInt(prompt("ê±¸ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”:"));
        if (isNaN(amount) || amount <= 0 || amount > mm) {
            alert("ê¸ˆì•¡ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            return;
        }

        if (Math.random() > 0.5) {
            mm += amount;
            addLog(`ë„ë°• ì„±ê³µ! ${amount}ì›ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.`);
        } else {
            mm -= amount;
            addLog(`ë„ë°• ì‹¤íŒ¨... ${amount}ì›ì„ ìƒì—ˆìŠµë‹ˆë‹¤.`);
        }
        updateUI();
    }

    // ì£¼ì‹ ê°€ê²© ë³€ë™ ì‹œìŠ¤í…œ
    setInterval(() => {
        cc += Math.floor(Math.random() * 6001) - 3000;
        if (cc <= 500) cc = 1000; // ìµœì†Œ ê°€ê²© ë°©ì–´
        updateUI();
    }, 4000);

    function buyStock() {
        if (mm >= cc) {
            let count = parseInt(prompt(`ëª‡ ì£¼ë¥¼ ì‚´ê¹Œìš”? (í˜„ì¬ê°€: ${cc})`));
            if (mm >= cc * count) {
                mm -= cc * count;
                xc += count;
                addLog(`ì£¼ì‹ ${count}ì£¼ ë§¤ìˆ˜ ì™„ë£Œ.`);
            } else {
                alert("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
            }
        } else {
            alert("ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
        }
        updateUI();
    }

    function sellStock() {
        if (xc > 0) {
            let count = parseInt(prompt(`ëª‡ ì£¼ë¥¼ íŒ”ê¹Œìš”? (ë³´ìœ : ${xc})`));
            if (count <= xc) {
                mm += cc * count;
                xc -= count;
                addLog(`ì£¼ì‹ ${count}ì£¼ ë§¤ë„ ì™„ë£Œ.`);
            } else {
                alert("ë³´ìœ  ì£¼ì‹ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
            }
        }
        updateUI();
    }

    updateUI();
</script>

</body>
</html>
